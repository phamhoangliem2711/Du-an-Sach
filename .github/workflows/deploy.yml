name: "Deploy to InfinityFree"

on:
  push:
    branches: ["main"]
  workflow_dispatch:

jobs:
  deploy:
    runs-on: "ubuntu-latest"
    steps:
      - name: "Checkout code"
        uses: "actions/checkout@v4"
      
      - name: "Deploy Backend via FTP"
        uses: "SamKirkland/FTP-Deploy-Action@v4.3.4"
        with:
          server: "ftpupload.net"
          username: "${{ secrets.IF0_40677219 }}"
          password: "${{ secrets.FTP_PASSWORD }}"
          local-dir: "./backend/"
          server-dir: "./htdocs/"
